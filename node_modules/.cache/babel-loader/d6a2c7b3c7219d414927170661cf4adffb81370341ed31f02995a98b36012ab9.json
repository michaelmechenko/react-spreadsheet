{"ast":null,"code":"import _classCallCheck from\"C:/Users/micha/Documents/mechenko_main/PEDAGOGY/fa23/CS4530/project/team111-project/implementation/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/micha/Documents/mechenko_main/PEDAGOGY/fa23/CS4530/project/team111-project/implementation/node_modules/@babel/runtime/helpers/esm/createClass.js\";import{CellText}from\"./cell-text.model\";import{create,all}from\"mathjs\";export var SpreadsheetCellModel=/*#__PURE__*/function(){function SpreadsheetCellModel(row,col){_classCallCheck(this,SpreadsheetCellModel);this.isSelected=void 0;this.textVisual=void 0;this._buffer=void 0;this._display=void 0;this._reference=void 0;this._buffer=\"\";this._display=\"\";this.isSelected=false;this._reference=this.determineReference(row,col);this.textVisual=new CellText.Builder().build();}_createClass(SpreadsheetCellModel,[{key:\"setBuffer\",value:function setBuffer(buffer,replacedBuffer){this._buffer=buffer;// fix\nthis._display=buffer;if(replacedBuffer!==undefined){try{var math=create(all,{});this._display=String(math.evaluate(replacedBuffer));}catch(_unused){throw new Error(\"Could not compute expression\");}}else{this._display=this._buffer;}}},{key:\"getBuffer\",value:function getBuffer(){return this._buffer;}},{key:\"getIsSelected\",value:function getIsSelected(){return this.isSelected;}},{key:\"setIsSelected\",value:function setIsSelected(isSelected){this.isSelected=isSelected;}},{key:\"getDisplay\",value:function getDisplay(){return this._display;}},{key:\"determineReference\",value:function determineReference(row,col){var colChar=String.fromCharCode(64+col);var rowNum=row.toString();return colChar+rowNum;}},{key:\"getReference\",value:function getReference(){var ref=this._reference;return ref;}},{key:\"setReference\",value:function setReference(row,col){this._reference=this.determineReference(row,col);}},{key:\"clearCell\",value:function clearCell(){this._buffer=\"\";this._display=\"\";}}]);return SpreadsheetCellModel;}();","map":{"version":3,"names":["CellText","create","all","SpreadsheetCellModel","row","col","_classCallCheck","isSelected","textVisual","_buffer","_display","_reference","determineReference","Builder","build","_createClass","key","value","setBuffer","buffer","replacedBuffer","undefined","math","String","evaluate","_unused","Error","getBuffer","getIsSelected","setIsSelected","getDisplay","colChar","fromCharCode","rowNum","toString","getReference","ref","setReference","clearCell"],"sources":["C:/Users/micha/Documents/mechenko_main/PEDAGOGY/fa23/CS4530/project/team111-project/implementation/src/model/domain/cells/spreadsheet-cell.model.ts"],"sourcesContent":["import { ICell } from \"../../interfaces/cell.interface\";\nimport { CellText } from \"./cell-text.model\";\nimport { create, all } from \"mathjs\";\n\nexport class SpreadsheetCellModel implements ICell {\n  private isSelected: boolean;\n  private textVisual: CellText;\n  private _buffer: string;\n  private _display: string;\n  private _reference: string;\n\n  public constructor(row: number, col: number) {\n    this._buffer = \"\";\n    this._display = \"\";\n    this.isSelected = false;\n    this._reference = this.determineReference(row, col);\n    this.textVisual = new CellText.Builder().build();\n  }\n\n  public setBuffer(buffer: string, replacedBuffer?: string): void {\n    this._buffer = buffer;\n    // fix\n    this._display = buffer;\n\n    if (replacedBuffer !== undefined) {\n      try {\n        const math = create(all, {});\n        this._display = String(math.evaluate(replacedBuffer));\n      } catch {\n        throw new Error(\"Could not compute expression\");\n      }\n    } else {\n      this._display = this._buffer;\n    }\n  }\n\n  public getBuffer(): string {\n    return this._buffer;\n  }\n\n  public getIsSelected(): boolean {\n    return this.isSelected;\n  }\n\n  public setIsSelected(isSelected: boolean): void {\n    this.isSelected = isSelected;\n  }\n\n  public getDisplay(): string {\n    return this._display;\n  }\n\n  public determineReference(row: number, col: number): string {\n    const colChar = String.fromCharCode(64 + col);\n    const rowNum = row.toString();\n\n    return colChar + rowNum;\n  }\n\n  public getReference(): string {\n    const ref = this._reference;\n    return ref;\n  }\n\n  public setReference(row: number, col: number) {\n    this._reference = this.determineReference(row, col);\n  }\n\n  public clearCell(): void {\n    this._buffer = \"\";\n    this._display = \"\";\n  }\n}\n"],"mappings":"8WACA,OAASA,QAAQ,KAAQ,mBAAmB,CAC5C,OAASC,MAAM,CAAEC,GAAG,KAAQ,QAAQ,CAEpC,UAAa,CAAAC,oBAAoB,yBAO/B,SAAAA,qBAAmBC,GAAW,CAAEC,GAAW,CAAE,CAAAC,eAAA,MAAAH,oBAAA,OANrCI,UAAU,aACVC,UAAU,aACVC,OAAO,aACPC,QAAQ,aACRC,UAAU,QAGhB,IAAI,CAACF,OAAO,CAAG,EAAE,CACjB,IAAI,CAACC,QAAQ,CAAG,EAAE,CAClB,IAAI,CAACH,UAAU,CAAG,KAAK,CACvB,IAAI,CAACI,UAAU,CAAG,IAAI,CAACC,kBAAkB,CAACR,GAAG,CAAEC,GAAG,CAAC,CACnD,IAAI,CAACG,UAAU,CAAG,GAAI,CAAAR,QAAQ,CAACa,OAAO,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAClD,CAACC,YAAA,CAAAZ,oBAAA,GAAAa,GAAA,aAAAC,KAAA,CAED,SAAAC,UAAiBC,MAAc,CAAEC,cAAuB,CAAQ,CAC9D,IAAI,CAACX,OAAO,CAAGU,MAAM,CACrB;AACA,IAAI,CAACT,QAAQ,CAAGS,MAAM,CAEtB,GAAIC,cAAc,GAAKC,SAAS,CAAE,CAChC,GAAI,CACF,GAAM,CAAAC,IAAI,CAAGrB,MAAM,CAACC,GAAG,CAAE,CAAC,CAAC,CAAC,CAC5B,IAAI,CAACQ,QAAQ,CAAGa,MAAM,CAACD,IAAI,CAACE,QAAQ,CAACJ,cAAc,CAAC,CAAC,CACvD,CAAE,MAAAK,OAAA,CAAM,CACN,KAAM,IAAI,CAAAC,KAAK,CAAC,8BAA8B,CAAC,CACjD,CACF,CAAC,IAAM,CACL,IAAI,CAAChB,QAAQ,CAAG,IAAI,CAACD,OAAO,CAC9B,CACF,CAAC,GAAAO,GAAA,aAAAC,KAAA,CAED,SAAAU,UAAA,CAA2B,CACzB,MAAO,KAAI,CAAClB,OAAO,CACrB,CAAC,GAAAO,GAAA,iBAAAC,KAAA,CAED,SAAAW,cAAA,CAAgC,CAC9B,MAAO,KAAI,CAACrB,UAAU,CACxB,CAAC,GAAAS,GAAA,iBAAAC,KAAA,CAED,SAAAY,cAAqBtB,UAAmB,CAAQ,CAC9C,IAAI,CAACA,UAAU,CAAGA,UAAU,CAC9B,CAAC,GAAAS,GAAA,cAAAC,KAAA,CAED,SAAAa,WAAA,CAA4B,CAC1B,MAAO,KAAI,CAACpB,QAAQ,CACtB,CAAC,GAAAM,GAAA,sBAAAC,KAAA,CAED,SAAAL,mBAA0BR,GAAW,CAAEC,GAAW,CAAU,CAC1D,GAAM,CAAA0B,OAAO,CAAGR,MAAM,CAACS,YAAY,CAAC,EAAE,CAAG3B,GAAG,CAAC,CAC7C,GAAM,CAAA4B,MAAM,CAAG7B,GAAG,CAAC8B,QAAQ,CAAC,CAAC,CAE7B,MAAO,CAAAH,OAAO,CAAGE,MAAM,CACzB,CAAC,GAAAjB,GAAA,gBAAAC,KAAA,CAED,SAAAkB,aAAA,CAA8B,CAC5B,GAAM,CAAAC,GAAG,CAAG,IAAI,CAACzB,UAAU,CAC3B,MAAO,CAAAyB,GAAG,CACZ,CAAC,GAAApB,GAAA,gBAAAC,KAAA,CAED,SAAAoB,aAAoBjC,GAAW,CAAEC,GAAW,CAAE,CAC5C,IAAI,CAACM,UAAU,CAAG,IAAI,CAACC,kBAAkB,CAACR,GAAG,CAAEC,GAAG,CAAC,CACrD,CAAC,GAAAW,GAAA,aAAAC,KAAA,CAED,SAAAqB,UAAA,CAAyB,CACvB,IAAI,CAAC7B,OAAO,CAAG,EAAE,CACjB,IAAI,CAACC,QAAQ,CAAG,EAAE,CACpB,CAAC,WAAAP,oBAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}